# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart
tasks:
  - init: |
      sudo apt-get update
      sudo apt-get install -y apache2
      sudo a2enmod rewrite # If you plan on using .htaccess for rewrites
      # Configure Apache to serve your static files
      echo "<VirtualHost *:80>
          ServerAdmin webmaster@localhost
          DocumentRoot /workspace/your-project-directory
          <Directory /workspace/your-project-directory>
              Options Indexes FollowSymLinks
              AllowOverride All
              Require all granted
          </Directory>
          ErrorLog \${APACHE_LOG_DIR}/error.log
          CustomLog \${APACHE_LOG_DIR}/access.log combined
      </VirtualHost>" | sudo tee /etc/apache2/sites-available/000-default.conf
      sudo a2ensite 000-default.conf
      sudo systemctl restart apache2
    command: echo "Apache is running! Check the preview."

ports:
  - port: 80
  - port: 443
    onOpen: open-browser